"use strict";(self.webpackChunkskyexch_web=self.webpackChunkskyexch_web||[]).push([[890],{66890:function(n,e,t){t.r(e),t.d(e,{AnnouncementModule:function(){return h}});var o=t(16274),c=t(64071),i=t(24766),a=t(42741),s=t(33633),r=t(42735),g=t(69428);function u(n,e){if(1&n&&(a.TgZ(0,"div",7),a.TgZ(1,"div",8),a.TgZ(2,"p"),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"div",9),a._uU(5),a.ALo(6,"date"),a.qZA(),a.qZA()),2&n){const n=e.$implicit;a.xp6(3),a.Oqu(n.ticker),a.xp6(2),a.hij(" ",a.xi3(6,2,n.date,"medium")," ")}}function d(n,e){1&n&&(a.TgZ(0,"p",10),a._uU(1,"No announcements available"),a.qZA())}function p(n,e){if(1&n&&(a.TgZ(0,"div",3),a.TgZ(1,"div",4),a.YNc(2,u,7,5,"div",5),a.YNc(3,d,2,0,"p",6),a.qZA(),a.qZA()),2&n){const n=a.oxw();a.xp6(2),a.Q6J("ngForOf",n.vnews),a.xp6(1),a.Q6J("ngIf",0===n.vnews.length)}}const m=[{path:"",component:(()=>{class n{constructor(n,e,t){this.userService=n,this.main=e,this.tokenService=t,this.news="",this.vnews=[],this.siteName=i.N.siteName,this.newsPending=!1,this.newsPending2=!1,this.isLogin=!1,this.tokenService.getToken()&&(this.isLogin=!0),this.isLogin&&this.main.apis$.subscribe(n=>{this.getticker(),this.getNews()})}ngOnInit(){}getNews(){this.newsPending||(this.newsPending=!0,this.vnews=[],this.userService.getTicker().subscribe(n=>{0==n.errorCode&&(this.vnews=n.result.map(n=>({id:n.id,ticker:atob(n.ticker),date:n.date||(new Date).toISOString()}))),this.newsPending=!1},n=>{this.newsPending=!1}))}getticker(){this.newsPending2||(this.newsPending2=!0,this.userService.get_ticker().subscribe(n=>{this.news=n.ticker,this.newsPending2=!1},n=>{this.newsPending2=!1}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(s.D),a.Y36(r.J),a.Y36(g.Br))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-announcement"]],decls:5,vars:1,consts:[[1,"announce-wrap"],[1,"announce-header"],["class","announce-content","id","announcementContent",4,"ngIf"],["id","announcementContent",1,"announce-content"],["id","announcementTemplate",1,"article-wrap"],["class","announcement-item",4,"ngFor","ngForOf"],["class","no-announcements",4,"ngIf"],[1,"announcement-item"],[1,"announcement-content"],[1,"announcement-date"],[1,"no-announcements"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h1"),a._uU(3,"Announcement"),a.qZA(),a.qZA(),a.YNc(4,p,4,2,"div",2),a.qZA()),2&n&&(a.xp6(4),a.Q6J("ngIf",e.isLogin))},directives:[o.O5,o.sg],pipes:[o.uU],styles:[".announce-wrap[_ngcontent-%COMP%]{background:#1e1e2d;border-radius:4px;padding:15px;color:#fff;max-width:800px;margin:0 auto}.announce-wrap[_ngcontent-%COMP%]   .announce-header[_ngcontent-%COMP%]{border-bottom:1px solid #2b2b40;padding-bottom:10px;margin-bottom:15px}.announce-wrap[_ngcontent-%COMP%]   .announce-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin:0;font-weight:600}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:5px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2b2b40;border-radius:3px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#5d5d7a;border-radius:3px}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]{background:#2b2b40;border-radius:4px;padding:12px 15px;margin-bottom:10px;border-left:3px solid #3699ff}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]   .announcement-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#cdcdde;line-height:1.5}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]   .announcement-date[_ngcontent-%COMP%]{font-size:.8rem;color:#8c8ea4;text-align:right}.announce-wrap[_ngcontent-%COMP%]   .no-announcements[_ngcontent-%COMP%]{color:#8c8ea4;text-align:center;padding:20px 0}"]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[o.ez,c.Bz.forChild(m)],c.Bz]}),n})()}}]);