!function(){"use strict";function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}(self.webpackChunkskyexch_web=self.webpackChunkskyexch_web||[]).push([[890],{66890:function(e,o,i){i.r(o),i.d(o,{AnnouncementModule:function(){return l}});var c=i(16274),a=i(64071),r=i(24766),u=i(42741),s=i(33633),g=i(42735),d=i(69428);function p(n,e){if(1&n&&(u.TgZ(0,"div",7),u.TgZ(1,"div",8),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"div",9),u._uU(5),u.ALo(6,"date"),u.qZA(),u.qZA()),2&n){var t=e.$implicit;u.xp6(3),u.Oqu(t.ticker),u.xp6(2),u.hij(" ",u.xi3(6,2,t.date,"medium")," ")}}function m(n,e){1&n&&(u.TgZ(0,"p",10),u._uU(1,"No announcements available"),u.qZA())}function f(n,e){if(1&n&&(u.TgZ(0,"div",3),u.TgZ(1,"div",4),u.YNc(2,p,7,5,"div",5),u.YNc(3,m,2,0,"p",6),u.qZA(),u.qZA()),2&n){var t=u.oxw();u.xp6(2),u.Q6J("ngForOf",t.vnews),u.xp6(1),u.Q6J("ngIf",0===t.vnews.length)}}var h,w=[{path:"",component:(h=function(){function e(t,o,i){var c=this;n(this,e),this.userService=t,this.main=o,this.tokenService=i,this.news="",this.vnews=[],this.siteName=r.N.siteName,this.newsPending=!1,this.newsPending2=!1,this.isLogin=!1,this.tokenService.getToken()&&(this.isLogin=!0),this.isLogin&&this.main.apis$.subscribe(function(n){c.getticker(),c.getNews()})}return t(e,[{key:"ngOnInit",value:function(){}},{key:"getNews",value:function(){var n=this;this.newsPending||(this.newsPending=!0,this.vnews=[],this.userService.getTicker().subscribe(function(e){0==e.errorCode&&(n.vnews=e.result.map(function(n){return{id:n.id,ticker:atob(n.ticker),date:n.date||(new Date).toISOString()}})),n.newsPending=!1},function(e){n.newsPending=!1}))}},{key:"getticker",value:function(){var n=this;this.newsPending2||(this.newsPending2=!0,this.userService.get_ticker().subscribe(function(e){n.news=e.ticker,n.newsPending2=!1},function(e){n.newsPending2=!1}))}}]),e}(),h.\u0275fac=function(n){return new(n||h)(u.Y36(s.D),u.Y36(g.J),u.Y36(d.Br))},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-announcement"]],decls:5,vars:1,consts:[[1,"announce-wrap"],[1,"announce-header"],["class","announce-content","id","announcementContent",4,"ngIf"],["id","announcementContent",1,"announce-content"],["id","announcementTemplate",1,"article-wrap"],["class","announcement-item",4,"ngFor","ngForOf"],["class","no-announcements",4,"ngIf"],[1,"announcement-item"],[1,"announcement-content"],[1,"announcement-date"],[1,"no-announcements"]],template:function(n,e){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h1"),u._uU(3,"Announcement"),u.qZA(),u.qZA(),u.YNc(4,f,4,2,"div",2),u.qZA()),2&n&&(u.xp6(4),u.Q6J("ngIf",e.isLogin))},directives:[c.O5,c.sg],pipes:[c.uU],styles:[".announce-wrap[_ngcontent-%COMP%]{background:#1e1e2d;border-radius:4px;padding:15px;color:#fff;max-width:800px;margin:0 auto}.announce-wrap[_ngcontent-%COMP%]   .announce-header[_ngcontent-%COMP%]{border-bottom:1px solid #2b2b40;padding-bottom:10px;margin-bottom:15px}.announce-wrap[_ngcontent-%COMP%]   .announce-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin:0;font-weight:600}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:5px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2b2b40;border-radius:3px}.announce-wrap[_ngcontent-%COMP%]   .announce-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#5d5d7a;border-radius:3px}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]{background:#2b2b40;border-radius:4px;padding:12px 15px;margin-bottom:10px;border-left:3px solid #3699ff}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]   .announcement-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#cdcdde;line-height:1.5}.announce-wrap[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]   .announcement-date[_ngcontent-%COMP%]{font-size:.8rem;color:#8c8ea4;text-align:right}.announce-wrap[_ngcontent-%COMP%]   .no-announcements[_ngcontent-%COMP%]{color:#8c8ea4;text-align:center;padding:20px 0}"]}),h)}],l=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[c.ez,a.Bz.forChild(w)],a.Bz]}),e}()}}])}();