{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data-formats.service\";\nimport * as i2 from \"src/app/services/share-data.service\";\nimport * as i3 from \"src/app/services/client-api.service\";\nimport * as i4 from \"src/app/services/token.service\";\nimport * as i5 from \"src/app/services/toast-message.service\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../directives/number-only.directive\";\n\nconst _c0 = function (a0) {\n  return {\n    \"select\": a0\n  };\n};\n\nfunction OneClickWrapComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"One Click Bet Stake\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 10);\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵelementStart(6, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.selectSatekIndex(0);\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"li\");\n    i0.ɵɵelementStart(9, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.selectSatekIndex(1);\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\");\n    i0.ɵɵelementStart(12, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_12_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.selectSatekIndex(2);\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"li\");\n    i0.ɵɵelementStart(15, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_15_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.selectSatekIndex(3);\n    });\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_17_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.editStake();\n    });\n    i0.ɵɵtext(18, \"Edit\");\n    i0.ɵɵelement(19, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"form\", 17);\n    i0.ɵɵlistener(\"ngSubmit\", function OneClickWrapComponent_ng_container_16_Template_form_ngSubmit_20_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.SaveBetStakeSetting();\n    });\n    i0.ɵɵelementStart(21, \"div\", 18);\n    i0.ɵɵelementStart(22, \"h4\");\n    i0.ɵɵtext(23, \"Edit One Click Bet Stake\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"ul\", 10);\n    i0.ɵɵelementStart(25, \"li\");\n    i0.ɵɵelement(26, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"li\");\n    i0.ɵɵelement(28, \"input\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"li\");\n    i0.ɵɵelement(30, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"li\");\n    i0.ɵɵelement(32, \"input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function OneClickWrapComponent_ng_container_16_Template_a_click_33_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.StakeSettingForm.valid ? ctx_r8.SaveBetStakeSetting() : \"\";\n    });\n    i0.ɵɵtext(34, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ctx_r0.selectedStake == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.f.stake9.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx_r0.selectedStake == 1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.f.stake10.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, ctx_r0.selectedStake == 2));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.f.stake11.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx_r0.selectedStake == 3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.f.stake12.value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.StakeSettingForm);\n  }\n}\n\nexport let OneClickWrapComponent = /*#__PURE__*/(() => {\n  class OneClickWrapComponent {\n    constructor(dfService, shareService, settingService, tokenService, toastr, fb) {\n      this.dfService = dfService;\n      this.shareService = shareService;\n      this.settingService = settingService;\n      this.tokenService = tokenService;\n      this.toastr = toastr;\n      this.fb = fb;\n      this.isStakeEdited = false;\n      this.selectedStake = 0;\n    }\n\n    ngOnInit() {\n      this.GetBetStakeSetting(); // console.log(this.dfService.getOneClickSetting())\n\n      if (this.dfService.getOneClickSetting()) {\n        this.OneClickBet = JSON.parse(this.dfService.getOneClickSetting());\n        this.selectedStake = this.OneClickBet.oneClickBetStakeIndex;\n      }\n    }\n\n    initStakeSettingForm(data) {\n      this.StakeSettingForm = this.fb.group({\n        stake1: [data.stake1, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake2: [data.stake2, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake3: [data.stake3, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake4: [data.stake4, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake5: [data.stake5, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake6: [data.stake6, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake7: [data.stake7, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake8: [data.stake8, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake9: [data.stake9, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake10: [data.stake10, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake11: [data.stake11, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]],\n        stake12: [data.stake12, [Validators.required, Validators.pattern(\"^[0-9]*$\"), Validators.maxLength(10)]]\n      });\n    }\n\n    get f() {\n      return this.StakeSettingForm.controls;\n    }\n\n    GetBetStakeSetting() {\n      this.BetStakeSubscription = this.shareService.stakeButton$.subscribe(data => {\n        if (data != null) {\n          // console.log(data)\n          this.stakeSettingData = {};\n          data.forEach((element, index) => {\n            this.stakeSettingData['stake' + (index + 1)] = element;\n          });\n          this.initStakeSettingForm(this.stakeSettingData);\n        }\n      });\n    }\n\n    SaveBetStakeSetting() {\n      // console.log(this.StakeSettingForm)\n      if (!this.StakeSettingForm.valid) {\n        return;\n      }\n\n      let stakeArray = [];\n\n      for (let i = 1; i <= 12; i++) {\n        stakeArray.push(this.StakeSettingForm.value['stake' + i]);\n      }\n\n      this.settingService.stakeSetting(stakeArray.toString()).subscribe(resp => {\n        if (resp.errorCode == 0) {\n          let accountInfo = this.tokenService.getUserInfo();\n\n          if (accountInfo.stakeSetting) {\n            accountInfo.stakeSetting = stakeArray.toString();\n          }\n\n          this.shareService.shareStakeButton(stakeArray);\n          this.tokenService.setUserInfo(accountInfo);\n          this.toastr.successMsg('Stake value saved');\n          this.settingClose();\n        } else {\n          this.toastr.errorMsg('Something went wrong');\n        }\n      }, err => {});\n    }\n\n    editStake() {\n      $('#oneClickBetStakeBox').css('display', 'none');\n      $('#editOneClickBetStakeBox').css('display', 'block');\n      this.isStakeEdited = true;\n    }\n\n    editStakeClosed() {\n      $('#editOneClickBetStakeBox').css('display', 'none');\n      $('#oneClickBetStakeBox').css('display', 'block');\n      this.isStakeEdited = false;\n    }\n\n    settingClose() {\n      $('#editOneClickBetStakeBox').css('display', 'none');\n      $('#oneClickBetStakeBox').css('display', 'block');\n      this.initStakeSettingForm(this.stakeSettingData);\n      var s = $(\"#set_pop\"); // s.fadeOut();\n\n      s.css(\"display\", \"none\");\n      this.isStakeEdited = false;\n    }\n\n    selectSatekIndex(value) {\n      this.selectedStake = value;\n      this.OneClickBet.oneClickBetStakeIndex = this.selectedStake;\n      this.OneClickBet.isOneClickBet = true;\n      this.dfService.saveOneClickSetting(this.OneClickBet);\n    }\n\n    confirmOneClick() {\n      $('#oneClickBetOverlay').fadeOut();\n      $('#oneClickBetDialog').fadeOut();\n    }\n\n    ngOnDestroy() {\n      this.BetStakeSubscription.unsubscribe();\n    }\n\n  }\n\n  OneClickWrapComponent.ɵfac = function OneClickWrapComponent_Factory(t) {\n    return new (t || OneClickWrapComponent)(i0.ɵɵdirectiveInject(i1.DataFormatsService), i0.ɵɵdirectiveInject(i2.ShareDataService), i0.ɵɵdirectiveInject(i3.ClientApiService), i0.ɵɵdirectiveInject(i4.TokenService), i0.ɵɵdirectiveInject(i5.ToastMessageService), i0.ɵɵdirectiveInject(i6.FormBuilder));\n  };\n\n  OneClickWrapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OneClickWrapComponent,\n    selectors: [[\"app-one-click-wrap\"]],\n    decls: 17,\n    vars: 1,\n    consts: [[1, \"one_click-wrap\"], [\"id\", \"oneClickBetOverlay\", \"name\", \"oneClickBetDialog\", 1, \"overlay\", 2, \"display\", \"none\"], [\"id\", \"oneClickBetDialog\", \"name\", \"oneClickBetDialog\", 1, \"dialog-wrap\", 2, \"display\", \"none\"], [1, \"dialog-content\"], [1, \"attention\"], [1, \"btn-wrap\", \"break\"], [\"id\", \"ok\", 1, \"btn-send\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"src\", \"https://b2c.static112233.com/assets/images/transparent.gif\", 1, \"arrow-dialog\"], [4, \"ngIf\"], [\"id\", \"oneClickBetStakeBox\", \"name\", \"oneClickBetStakeBox\", 1, \"one_click-setting\", 2, \"display\", \"none\"], [1, \"one_click-stake\"], [\"name\", \"betStake\", \"index\", \"0\", 1, \"btn\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"], [\"name\", \"betStake\", \"index\", \"1\", 1, \"btn\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"], [\"name\", \"betStake\", \"index\", \"2\", 1, \"btn\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"], [\"name\", \"betStake\", \"index\", \"3\", 1, \"btn\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"], [\"id\", \"edit\", 1, \"a-edit\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"src\", \"https://b2c.static112233.com/assets/images/transparent.gif\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"editOneClickBetStakeBox\", \"name\", \"oneClickBetStakeBox\", 1, \"one_click-setting\", 2, \"display\", \"none\"], [\"type\", \"text\", \"name\", \"editBetStake\", \"numberOnly\", \"\", \"index\", \"0\", \"value\", \"\", \"formControlName\", \"stake9\"], [\"type\", \"text\", \"name\", \"editBetStake\", \"numberOnly\", \"\", \"index\", \"1\", \"value\", \"\", \"formControlName\", \"stake10\"], [\"type\", \"text\", \"name\", \"editBetStake\", \"numberOnly\", \"\", \"index\", \"2\", \"value\", \"\", \"formControlName\", \"stake11\"], [\"type\", \"text\", \"name\", \"editBetStake\", \"numberOnly\", \"\", \"index\", \"3\", \"value\", \"\", \"formControlName\", \"stake12\"], [\"id\", \"save\", 1, \"btn-send\", 2, \"cursor\", \"pointer\", 3, \"click\"]],\n    template: function OneClickWrapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h4\");\n        i0.ɵɵtext(4, \"One Click Bet ON\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7, \"Stake selected will be placed immediately once you click on the market odds. \");\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵelementStart(9, \"span\", 4);\n        i0.ɵɵtext(10, \" Attention: Back/Lay at your own risk\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ul\", 5);\n        i0.ɵɵelementStart(12, \"li\");\n        i0.ɵɵelementStart(13, \"a\", 6);\n        i0.ɵɵlistener(\"click\", function OneClickWrapComponent_Template_a_click_13_listener() {\n          return ctx.confirmOneClick();\n        });\n        i0.ɵɵtext(14, \"OK\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, OneClickWrapComponent_ng_container_16_Template, 35, 17, \"ng-container\", 8);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngIf\", ctx.stakeSettingData);\n      }\n    },\n    directives: [i7.NgIf, i7.NgClass, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.DefaultValueAccessor, i8.NumberOnlyDirective, i6.NgControlStatus, i6.FormControlName],\n    styles: [\"\"]\n  });\n  return OneClickWrapComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}