{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ahmed Kazdar/OneDrive/Desktop/Cricity Bet/WebBet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-cookie-service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/fire/compat/auth\";\nexport const AUTH_TOKEN = 'AuthToken';\nexport const USER_INFO = 'UserInfo';\nexport const NEW_USER = 'NewUser';\nexport const LANGUAGE = 'LANGUAGE';\nexport const OFFER_ID = 'OFFER_ID';\nexport const CLICK_ID = 'CLICK_ID';\nexport const AFF_ID = 'AFF_ID';\nexport class TokenService {\n  constructor(cookieService, router, fireAuth) {\n    this.cookieService = cookieService;\n    this.router = router;\n    this.fireAuth = fireAuth;\n    this.stakeButtons = [1000, 5000, 10000, 25000, 50000, 100000, 200000, 500000, 1000000, 2500000];\n  }\n\n  setTC(data) {\n    this.cookieService.set('tc', data);\n  }\n\n  getTC() {\n    return this.cookieService.get('tc');\n  }\n\n  setCasBanner(data) {\n    this.cookieService.set('CasBanner', data);\n  }\n\n  getCasBanner() {\n    return this.cookieService.get('CasBanner');\n  }\n\n  setToken(token) {\n    this.cookieService.set(AUTH_TOKEN, token); // localStorage.setItem(AUTH_TOKEN, token);\n  }\n\n  getToken() {\n    if (this.getLocalToken()) {\n      return this.getLocalToken();\n    } else {\n      return this.cookieService.get(AUTH_TOKEN);\n    }\n  }\n\n  setLocalToken(token) {\n    localStorage.setItem(AUTH_TOKEN, token);\n  }\n\n  getLocalToken() {\n    return localStorage.getItem(AUTH_TOKEN);\n  }\n\n  removeToken() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.fireAuth.signOut();\n\n      _this.cookieService.delete(AUTH_TOKEN);\n\n      _this.cookieService.deleteAll();\n\n      var newUser = _this.getNewUser();\n\n      localStorage.clear();\n\n      if (newUser != null) {\n        _this.setNewUser(1);\n      } // this.router.navigate(['/login']);\n      // window.location.href = \"/home\";\n      // window.location.href = window.location.origin+ \"/#/home\";\n      // window.location.href = window.location.origin +\"/\" ;\n\n\n      window.location.href = window.location.origin + window.location.pathname;\n    })();\n  }\n\n  setUserInfo(userInfo) {\n    this.cookieService.set(USER_INFO, JSON.stringify(userInfo));\n    localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\n  }\n\n  getUserInfo() {\n    // console.log(this.getLocalUserInfo())\n    if (this.getLocalUserInfo()) {\n      return this.getLocalUserInfo();\n    } else {\n      return this.cookieService.get(USER_INFO) ? JSON.parse(this.cookieService.get(USER_INFO)) : null;\n    }\n  }\n\n  getLocalUserInfo() {\n    return localStorage.getItem(USER_INFO) ? JSON.parse(localStorage.getItem(USER_INFO)) : null;\n  }\n\n  setMaintanance(value) {\n    this.cookieService.set('isMaintanance', value);\n  }\n\n  getMaintanance() {\n    return this.cookieService.get('isMaintanance');\n  }\n\n  removeMaintanance() {\n    this.cookieService.delete('isMaintanance');\n  }\n\n  setStakeButtons(stakes) {\n    this.cookieService.set(\"stakeValue\", JSON.stringify(stakes));\n  }\n\n  getStakeButtons() {\n    return this.cookieService.get(\"stakeValue\") ? JSON.parse(this.cookieService.get(\"stakeValue\")) : this.stakeButtons;\n  }\n\n  removeUserInfo() {\n    this.cookieService.delete(USER_INFO);\n    this.cookieService.deleteAll();\n  }\n\n  setNewUser(newUser) {\n    localStorage.setItem(NEW_USER, newUser);\n  }\n\n  getNewUser() {\n    return localStorage.getItem(NEW_USER);\n  }\n\n  setLanguage(lang) {\n    localStorage.setItem(LANGUAGE, lang);\n  }\n\n  getLanguage() {\n    return localStorage.getItem(LANGUAGE);\n  }\n\n  setOfferId(offerId) {\n    localStorage.setItem(OFFER_ID, offerId);\n  }\n\n  getOfferId() {\n    return localStorage.getItem(OFFER_ID);\n  }\n\n  setClickID(clickId) {\n    localStorage.setItem(CLICK_ID, clickId);\n  }\n\n  getClickID() {\n    return localStorage.getItem(CLICK_ID);\n  }\n\n  setAffId(affId) {\n    localStorage.setItem(AFF_ID, affId);\n  }\n\n  getAffId() {\n    return localStorage.getItem(AFF_ID);\n  }\n\n}\n\nTokenService.ɵfac = function TokenService_Factory(t) {\n  return new (t || TokenService)(i0.ɵɵinject(i1.CookieService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.AngularFireAuth));\n};\n\nTokenService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TokenService,\n  factory: TokenService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/Ahmed Kazdar/OneDrive/Desktop/Cricity Bet/WebBet/src/app/services/token.service.ts"],"names":["i0","i1","i2","i3","AUTH_TOKEN","USER_INFO","NEW_USER","LANGUAGE","OFFER_ID","CLICK_ID","AFF_ID","TokenService","constructor","cookieService","router","fireAuth","stakeButtons","setTC","data","set","getTC","get","setCasBanner","getCasBanner","setToken","token","getToken","getLocalToken","setLocalToken","localStorage","setItem","getItem","removeToken","signOut","delete","deleteAll","newUser","getNewUser","clear","setNewUser","window","location","href","origin","pathname","setUserInfo","userInfo","JSON","stringify","getUserInfo","getLocalUserInfo","parse","setMaintanance","value","getMaintanance","removeMaintanance","setStakeButtons","stakes","getStakeButtons","removeUserInfo","setLanguage","lang","getLanguage","setOfferId","offerId","getOfferId","setClickID","clickId","getClickID","setAffId","affId","getAffId","ɵfac","TokenService_Factory","t","ɵɵinject","CookieService","Router","AngularFireAuth","ɵprov","ɵɵdefineInjectable","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"ngx-cookie-service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/fire/compat/auth\";\r\nexport const AUTH_TOKEN = 'AuthToken';\r\nexport const USER_INFO = 'UserInfo';\r\nexport const NEW_USER = 'NewUser';\r\nexport const LANGUAGE = 'LANGUAGE';\r\nexport const OFFER_ID = 'OFFER_ID';\r\nexport const CLICK_ID = 'CLICK_ID';\r\nexport const AFF_ID = 'AFF_ID';\r\nexport class TokenService {\r\n    constructor(cookieService, router, fireAuth) {\r\n        this.cookieService = cookieService;\r\n        this.router = router;\r\n        this.fireAuth = fireAuth;\r\n        this.stakeButtons = [1000, 5000, 10000, 25000, 50000, 100000, 200000, 500000, 1000000, 2500000];\r\n    }\r\n    setTC(data) {\r\n        this.cookieService.set('tc', data);\r\n    }\r\n    getTC() {\r\n        return this.cookieService.get('tc');\r\n    }\r\n    setCasBanner(data) {\r\n        this.cookieService.set('CasBanner', data);\r\n    }\r\n    getCasBanner() {\r\n        return this.cookieService.get('CasBanner');\r\n    }\r\n    setToken(token) {\r\n        this.cookieService.set(AUTH_TOKEN, token);\r\n        // localStorage.setItem(AUTH_TOKEN, token);\r\n    }\r\n    getToken() {\r\n        if (this.getLocalToken()) {\r\n            return this.getLocalToken();\r\n        }\r\n        else {\r\n            return this.cookieService.get(AUTH_TOKEN);\r\n        }\r\n    }\r\n    setLocalToken(token) {\r\n        localStorage.setItem(AUTH_TOKEN, token);\r\n    }\r\n    getLocalToken() {\r\n        return localStorage.getItem(AUTH_TOKEN);\r\n    }\r\n    async removeToken() {\r\n        await this.fireAuth.signOut();\r\n        this.cookieService.delete(AUTH_TOKEN);\r\n        this.cookieService.deleteAll();\r\n        var newUser = this.getNewUser();\r\n        localStorage.clear();\r\n        if (newUser != null) {\r\n            this.setNewUser(1);\r\n        }\r\n        // this.router.navigate(['/login']);\r\n        // window.location.href = \"/home\";\r\n        // window.location.href = window.location.origin+ \"/#/home\";\r\n        // window.location.href = window.location.origin +\"/\" ;\r\n        window.location.href = window.location.origin + window.location.pathname;\r\n    }\r\n    setUserInfo(userInfo) {\r\n        this.cookieService.set(USER_INFO, JSON.stringify(userInfo));\r\n        localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\r\n    }\r\n    getUserInfo() {\r\n        // console.log(this.getLocalUserInfo())\r\n        if (this.getLocalUserInfo()) {\r\n            return this.getLocalUserInfo();\r\n        }\r\n        else {\r\n            return this.cookieService.get(USER_INFO) ? JSON.parse(this.cookieService.get(USER_INFO)) : null;\r\n        }\r\n    }\r\n    getLocalUserInfo() {\r\n        return localStorage.getItem(USER_INFO) ? JSON.parse(localStorage.getItem(USER_INFO)) : null;\r\n    }\r\n    setMaintanance(value) {\r\n        this.cookieService.set('isMaintanance', value);\r\n    }\r\n    getMaintanance() {\r\n        return this.cookieService.get('isMaintanance');\r\n    }\r\n    removeMaintanance() {\r\n        this.cookieService.delete('isMaintanance');\r\n    }\r\n    setStakeButtons(stakes) {\r\n        this.cookieService.set(\"stakeValue\", JSON.stringify(stakes));\r\n    }\r\n    getStakeButtons() {\r\n        return this.cookieService.get(\"stakeValue\") ? JSON.parse(this.cookieService.get(\"stakeValue\")) : this.stakeButtons;\r\n    }\r\n    removeUserInfo() {\r\n        this.cookieService.delete(USER_INFO);\r\n        this.cookieService.deleteAll();\r\n    }\r\n    setNewUser(newUser) {\r\n        localStorage.setItem(NEW_USER, newUser);\r\n    }\r\n    getNewUser() {\r\n        return localStorage.getItem(NEW_USER);\r\n    }\r\n    setLanguage(lang) {\r\n        localStorage.setItem(LANGUAGE, lang);\r\n    }\r\n    getLanguage() {\r\n        return localStorage.getItem(LANGUAGE);\r\n    }\r\n    setOfferId(offerId) {\r\n        localStorage.setItem(OFFER_ID, offerId);\r\n    }\r\n    getOfferId() {\r\n        return localStorage.getItem(OFFER_ID);\r\n    }\r\n    setClickID(clickId) {\r\n        localStorage.setItem(CLICK_ID, clickId);\r\n    }\r\n    getClickID() {\r\n        return localStorage.getItem(CLICK_ID);\r\n    }\r\n    setAffId(affId) {\r\n        localStorage.setItem(AFF_ID, affId);\r\n    }\r\n    getAffId() {\r\n        return localStorage.getItem(AFF_ID);\r\n    }\r\n}\r\nTokenService.ɵfac = function TokenService_Factory(t) { return new (t || TokenService)(i0.ɵɵinject(i1.CookieService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.AngularFireAuth)); };\r\nTokenService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: TokenService, factory: TokenService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}