{"ast":null,"code":"import { NavigationStart } from '@angular/router';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/main.service\";\nimport * as i2 from \"../services/client-api.service\";\nimport * as i3 from \"../services/sports-api.service\";\nimport * as i4 from \"../services/data-formats.service\";\nimport * as i5 from \"../services/share-data.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../services/token.service\";\nimport * as i8 from \"../services/score.service\";\nimport * as i9 from \"../open-bets/open-bets.component\";\nimport * as i10 from \"../header/header.component\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"../nav/nav.component\";\nimport * as i13 from \"../settings/settings.component\";\nimport * as i14 from \"../search/search.component\";\nimport * as i15 from \"../marquee/marquee.component\";\nimport * as i16 from \"../promote-banner/promote-banner.component\";\nimport * as i17 from \"../whatsapp/whatsapp.component\";\n\nfunction MainComponent_app_marquee_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-marquee\");\n  }\n}\n\nfunction MainComponent_app_marquee_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-marquee\");\n  }\n}\n\nfunction MainComponent_app_promote_banner_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-promote-banner\");\n  }\n}\n\nfunction MainComponent_app_whatsapp_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-whatsapp\");\n  }\n}\n\nexport let MainComponent = /*#__PURE__*/(() => {\n  class MainComponent {\n    constructor(mainService, clientApi, sportsAPi, dfService, shareService, router, tokenService, scoreService) {\n      this.mainService = mainService;\n      this.clientApi = clientApi;\n      this.sportsAPi = sportsAPi;\n      this.dfService = dfService;\n      this.shareService = shareService;\n      this.router = router;\n      this.tokenService = tokenService;\n      this.scoreService = scoreService;\n      this.siteName = environment.siteName;\n      this.allScoresData = [];\n      this.loader = true;\n      this.isBannerShow = true;\n      this.isWhatsappShow = true;\n      this.isLogin = false;\n      this.isGameApiCall = true;\n      this.range = \"en\";\n      this.isRemoveBfMarket = environment.isRemoveBfMarket;\n\n      if (this.tokenService.getLanguage()) {\n        this.selectedlang = this.tokenService.getLanguage();\n        this.selectlanguage(this.selectedlang);\n      } else {\n        this.selectlanguage('en');\n      }\n\n      let seconds = 300;\n\n      if (this.tokenService.getToken()) {\n        this.isLogin = true;\n        seconds = 60;\n      }\n\n      this.mainService.apis$.subscribe(res => {\n        // console.log(res);\n        this.sportWise();\n        this.listCasinoTable();\n        this.GetBetStakeSetting();\n        this.intervalSub = setInterval(() => {\n          this.sportWise();\n        }, seconds * 1000);\n      }); // console.log(window)\n\n      if (this.router.url == '/home' || this.router.url == '/dash' || this.router.url == '/highlight' || this.router.url == '/sports') {\n        this.isBannerShow = true;\n      } else {\n        this.isBannerShow = false;\n      }\n\n      if (this.router.url.includes('/event') || this.router.url.includes('/tpp') || this.router.url.includes('/casino/cas/international/tp') || this.router.url.includes('/exchange')) {\n        this.isWhatsappShow = false;\n      } else {\n        this.isWhatsappShow = true;\n      } // window.scrollTo(0, 0);\n\n\n      this.router.events.subscribe(event => {\n        window.scrollTo(0, 0);\n\n        if (event instanceof NavigationStart) {\n          // console.log(event.url)\n          $('#page_loading').css('display', 'flex');\n\n          if (event.url == '/home' || event.url == '/dash' || event.url == '/highlight' || event.url == '/sports') {\n            this.isBannerShow = true;\n          } else {\n            this.isBannerShow = false;\n          }\n\n          if (event.url.includes('/event') || event.url.includes('/tpp') || event.url.includes('/casino/cas/international/tp') || event.url.includes('/exchange')) {\n            this.isWhatsappShow = false;\n            var fc = document.getElementById('fc_frame');\n\n            if (fc) {\n              fc.style.display = \"none\";\n            }\n          } else {\n            this.isWhatsappShow = true;\n            var fc = document.getElementById('fc_frame');\n\n            if (fc) {\n              fc.style.display = \"block\";\n            }\n          }\n        }\n      });\n    }\n\n    ngOnInit() {\n      this.getlanguages();\n    }\n\n    getlanguages() {\n      this.shareService._lagugageSub$.subscribe(data => {\n        var _a;\n\n        if (data != null) {\n          this.Update = data;\n        }\n\n        if (((_a = this.Update) === null || _a === void 0 ? void 0 : _a.myaccount) == \"আমার অ্যাকাউন্ট\") {\n          $(\"#accountPopup\").css('font-size', '9px');\n        } else {\n          $(\"#accountPopup\").css('font-size', 'inherit');\n        } // console.log(this.Update);\n\n      });\n    }\n\n    selectlanguage(newValue) {\n      this.getLanguage();\n      this.range = newValue;\n\n      if (this.siteName == \"cricbuzzer\" || this.siteName == 'cricbuzzerlive') {\n        if (this.range == \"sp\") {\n          // this.siteName = \"cricbuzzer\"\n          let bodytag = document.getElementsByTagName(\"BODY\")[0];\n          bodytag.classList.add('spanish');\n          bodytag.classList.remove('portuguese');\n          bodytag.classList.remove('turkish');\n        } else if (this.range == \"pg\") {\n          let bodytag = document.getElementsByTagName(\"BODY\")[0];\n          bodytag.classList.add('portuguese');\n          bodytag.classList.remove('spanish');\n          bodytag.classList.remove('turkish');\n        } else if (this.range == \"tu\") {\n          let bodytag = document.getElementsByTagName(\"BODY\")[0];\n          bodytag.classList.add('turkish');\n          bodytag.classList.remove('spanish');\n          bodytag.classList.remove('portuguese');\n        } else {\n          let bodytag = document.getElementsByTagName(\"BODY\")[0];\n          bodytag.classList.add(this.siteName);\n          bodytag.classList.remove('spanish');\n          bodytag.classList.remove('portuguese');\n          bodytag.classList.remove('turkish');\n        }\n      }\n\n      this.tokenService.setLanguage(this.range);\n    }\n\n    getLanguage() {\n      let L = [];\n      this.clientApi.getlanguage().subscribe(resp => {\n        this.language = resp;\n        this.language.forEach(data => {\n          if (data.lang == this.range) {\n            L.push(data);\n          }\n\n          this.Alllanguage = L;\n          this.shareService.sharelanguage(this.Alllanguage[0]);\n        });\n      });\n    }\n\n    GetBetStakeSetting() {\n      let accountInfo = this.tokenService.getUserInfo();\n\n      if (!accountInfo) {\n        this.stakeSettingData = [100, 500, 1000, 5000, 10000, 20000, 50000, 100000, 100, 500, 1000, 5000];\n        this.shareService.shareStakeButton(this.stakeSettingData);\n        this.getProfile();\n        return;\n      }\n\n      if (accountInfo.stakeSetting) {\n        this.stakeSettingData = accountInfo.stakeSetting.split(',');\n      } else {\n        if (this.siteName == \"jeetfair\") {\n          this.stakeSettingData = [5, 10, 50, 100, 500, 1000, 5000, 10000, 5, 10, 50, 100];\n        } else {\n          this.stakeSettingData = [100, 500, 1000, 5000, 10000, 20000, 50000, 100000, 100, 500, 1000, 5000];\n        }\n      }\n\n      this.stakeSettingData.forEach((element, index) => {\n        this.stakeSettingData[index] = parseInt(element);\n      });\n      this.shareService.shareStakeButton(this.stakeSettingData);\n    }\n\n    getProfile() {\n      if (!this.isLogin) {\n        return;\n      }\n\n      this.clientApi.profile().subscribe(resp => {\n        if (resp.result) {\n          if (this.siteName == \"betfair21\" || this.siteName == \"betswiz\") {\n            resp.result[0]['currencyCode'] = \"\";\n          }\n\n          this.tokenService.setUserInfo(resp.result[0]);\n          window.location.href = window.location.origin + window.location.pathname;\n        }\n      });\n    }\n\n    listCasinoTable() {\n      if (!this.isLogin) {\n        return;\n      }\n\n      this.clientApi.listCasinoTable().subscribe(resp => {\n        if (resp.result) {\n          this.shareService.shareCasinoList(resp.result[0].tables);\n        }\n      });\n    }\n\n    hideVerify() {\n      $('#verifyEmail').css('display', 'none');\n    }\n\n    sportWise() {\n      if (!this.isGameApiCall) {\n        return;\n      }\n\n      this.isGameApiCall = false;\n      this.clientApi.listGames().subscribe(resp => {\n        if (resp.result) {\n          if (resp.result) {\n            resp.result.forEach(item => {\n              if (item.eventId == 31345701) {\n                item.markets.push({\n                  betDelay: 0,\n                  gameId: 430719080,\n                  isInPlay: 1,\n                  marketId: '1.145970106',\n                  marketName: 'Winner 2022',\n                  open: 1,\n                  status: 1\n                });\n              }\n\n              if (item.markets[0]) {\n                item['marketId'] = item.markets[0].marketId;\n              }\n\n              if (item.sportsName == \"Virtual Cricket\") {\n                item.sportsName = \"cricket\";\n                item.sportId = \"4\";\n                item.eventTypeId = \"4\";\n                item['isVirtual'] = true;\n                item['isBm'] = true;\n              }\n\n              if (item.sportsName == \"Kabaddi\") {\n                item['isKabaddi'] = true;\n                item['isBm'] = true; // item['isFancy'] = true;\n              }\n\n              if (item.sportsName == \"Election\") {\n                item['isKabaddi'] = true; // item['isBm'] = true;\n\n                item['isFancy'] = true;\n              }\n\n              if (item.premiumMain == 0) {\n                item.premiumMain = true;\n              } else {\n                item.premiumMain = false;\n              } // new field start\n\n\n              if (this.isRemoveBfMarket) {\n                if (item.matchOddsInplay1 == 0) {\n                  item.matchOddsInplay1 = true;\n                } else {\n                  item.matchOddsInplay1 = false;\n                }\n\n                if (item.tiedMatchInplay1 == 0) {\n                  item.tiedMatchInplay1 = true;\n\n                  if (item.markets[0]) {\n                    item.markets = item.markets.filter(function (market) {\n                      return market.marketName != \"Tied Match\";\n                    });\n                  }\n                } else {\n                  item.tiedMatchInplay1 = false;\n                }\n\n                if (item.overUnderInplay1 == 0 || item.winTheTossInplay1 == 0) {\n                  item.overUnderInplay1 = true;\n\n                  if (item.markets[0]) {\n                    item.markets = item.markets.filter(function (market) {\n                      return !market.marketName.includes(\"Over/Under\");\n                    });\n                  }\n                } else {\n                  item.overUnderInplay1 = false;\n                } // new field end\n\n              }\n\n              if (item.matchOddsInplay == 0) {\n                item.matchOddsInplay = true;\n              } else {\n                item.matchOddsInplay = false;\n              }\n\n              if (item.tiedMatchInplay == 0) {\n                item.tiedMatchInplay = true; // if (item.markets[0]) {\n                //   item.markets = item.markets.filter(function (market) {\n                //     return market.marketName != \"Tied Match\";\n                //   });\n                // }\n              } else {\n                item.tiedMatchInplay = false;\n              }\n\n              if (item.overUnderInplay == 0) {\n                item.overUnderInplay = true; // if (item.markets[0]) {\n                //   item.markets = item.markets.filter(function (market) {\n                //     return !market.marketName.includes(\"Over/Under\");\n                //   });\n                // }\n              } else {\n                item.overUnderInplay = false;\n              }\n\n              if (item.eventName.indexOf(' SRL ') > -1) {\n                item['isSrl'] = true;\n              }\n\n              if (item.eventName.indexOf(' T10 v ') > -1) {\n                item.competitionName = \"T10 Virtual Cricket League\";\n                item['isStream'] = true;\n              }\n\n              if (item.markets[0]) {\n                item.markets = item.markets.filter(function (market) {\n                  return market.marketName != \"Over/Under 3.5 Goals\";\n                });\n              }\n\n              if (this.allScoresData.length > 0) {\n                this.allScoresData.forEach(scoreData => {\n                  if (item.eventId == scoreData.eventId) {\n                    item['score'] = scoreData;\n                  }\n                });\n              }\n            });\n          }\n\n          if (this.siteName == 'lionbook247') {\n            // remove SRL matches\n            resp.result = resp.result.filter(item => {\n              return item.eventName.indexOf(' SRL ') == -1;\n            });\n          }\n\n          if (this.siteName == 'lionbook247') {\n            resp.result = resp.result.filter(item => {\n              return item.eventName.indexOf(' T10 v ') == -1;\n            });\n          }\n\n          resp.result = resp.result.filter(item => {\n            return parseInt(item.eventTypeId) == 4 || parseInt(item.eventTypeId) == 1 || parseInt(item.eventTypeId) == 2 || parseInt(item.eventTypeId) == 52 || parseInt(item.eventTypeId) == 85;\n          }); // this.getMatchOdds(resp.result);\n\n          this.shareService.shareListGamesData(resp.result);\n          this.shareService.shareSportData(this.dfService.getSportDataFormat(resp.result));\n          this.getAllScores(resp.result); // console.log(this.dfService.getSportDataFormat(resp.result))\n        }\n\n        if (resp.sports) {\n          this.shareService.sharegamestatus(resp.sports);\n        }\n\n        this.isGameApiCall = true;\n        this.loader = false;\n      }, err => {\n        this.isGameApiCall = true;\n        $('#page_loading').css('display', 'none');\n      });\n    }\n\n    getMatchOdds(matches) {\n      var ids = [];\n      matches.forEach((match, index) => {\n        if (!match.markets[0]) {\n          return;\n        }\n\n        if (match.markets[0].marketName == 'Match Odds') {\n          ids.push(match.markets[0].marketId);\n        }\n      });\n\n      if (ids.length) {\n        this.sportsAPi.getMatchOdds(4, ids.join(',')).subscribe(resp => {\n          // console.log(resp)\n          matches.forEach(match => {\n            resp.forEach(market => {\n              if (match.eventId == market.eventId) {\n                match['runners'] = market.runners;\n                match['status'] = market.status;\n              }\n            });\n          }); // this.shareService.shareSportData(this.dfService.getSportDataFormat(matches));\n\n          this.loader = false;\n        });\n      }\n    }\n\n    getAllScores(matches) {\n      if (matches.length > 0) {\n        this.scoreService.getAllScore().subscribe(resp => {\n          // console.log(resp)\n          this.allScoresData = resp;\n          matches.forEach(match => {\n            if (resp.length > 0) {\n              resp.forEach(scoreData => {\n                if (match.eventId == scoreData.eventId) {\n                  match['score'] = scoreData;\n                }\n              });\n            }\n          });\n          this.shareService.shareSportData(this.dfService.getSportDataFormat(matches));\n        });\n      }\n    }\n\n    ngOnDestroy() {\n      if (this.intervalSub) {\n        clearInterval(this.intervalSub);\n      }\n    }\n\n  }\n\n  MainComponent.ɵfac = function MainComponent_Factory(t) {\n    return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.MainService), i0.ɵɵdirectiveInject(i2.ClientApiService), i0.ɵɵdirectiveInject(i3.SportsApiService), i0.ɵɵdirectiveInject(i4.DataFormatsService), i0.ɵɵdirectiveInject(i5.ShareDataService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.TokenService), i0.ɵɵdirectiveInject(i8.ScoreService));\n  };\n\n  MainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainComponent,\n    selectors: [[\"app-main\"]],\n    decls: 30,\n    vars: 4,\n    consts: [[1, \"ui-page\", \"ui-page-theme-a\", \"ui-page-active\", \"unselectable\"], [4, \"ngIf\"], [\"id\", \"loading\", 1, \"loading-overlay\", 2, \"display\", \"none\"], [1, \"loading-wrap\", 2, \"display\", \"flex\"], [1, \"loading\"], [\"id\", \"verifyEmail\", 1, \"ageplus\", 2, \"z-index\", \"999\", \"display\", \"none\"], [1, \"dialog\", 2, \"position\", \"fixed\", \"top\", \"27%\"], [1, \"announce-wrap1\"], [1, \"announce-header1\"], [1, \"tc-content\", 2, \"height\", \"auto\"], [1, \"announce-footer1\"], [\"id\", \"decline\", 1, \"btn-send\", \"secondary\", 2, \"height\", \"34px\", \"line-height\", \"1.8\", \"width\", \"90%\", 3, \"click\"]],\n    template: function MainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"app-open-bets\");\n        i0.ɵɵelement(2, \"app-header\");\n        i0.ɵɵtemplate(3, MainComponent_app_marquee_3_Template, 1, 0, \"app-marquee\", 1);\n        i0.ɵɵtemplate(4, MainComponent_app_marquee_4_Template, 1, 0, \"app-marquee\", 1);\n        i0.ɵɵtemplate(5, MainComponent_app_promote_banner_5_Template, 1, 0, \"app-promote-banner\", 1);\n        i0.ɵɵelement(6, \"app-nav\");\n        i0.ɵɵelement(7, \"app-settings\");\n        i0.ɵɵelement(8, \"app-search\");\n        i0.ɵɵtemplate(9, MainComponent_app_whatsapp_9_Template, 1, 0, \"app-whatsapp\", 1);\n        i0.ɵɵelementStart(10, \"div\", 2);\n        i0.ɵɵelementStart(11, \"div\", 3);\n        i0.ɵɵelementStart(12, \"div\", 4);\n        i0.ɵɵelement(13, \"div\");\n        i0.ɵɵelement(14, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"p\");\n        i0.ɵɵtext(16, \"Loading...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵelementStart(18, \"div\", 6);\n        i0.ɵɵelementStart(19, \"div\", 7);\n        i0.ɵɵelementStart(20, \"div\", 8);\n        i0.ɵɵelementStart(21, \"h1\");\n        i0.ɵɵtext(22, \"Verify Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 9);\n        i0.ɵɵelementStart(24, \"p\");\n        i0.ɵɵtext(25, \"We have sent an email to your registered email id. Please check your inbox or spam to validate your email address.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ul\", 10);\n        i0.ɵɵelementStart(27, \"a\", 11);\n        i0.ɵɵlistener(\"click\", function MainComponent_Template_a_click_27_listener() {\n          return ctx.hideVerify();\n        });\n        i0.ɵɵtext(28, \"Okay\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"router-outlet\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLogin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLogin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isBannerShow && !ctx.loader);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.isWhatsappShow);\n      }\n    },\n    directives: [i9.OpenBetsComponent, i10.HeaderComponent, i11.NgIf, i12.NavComponent, i13.SettingsComponent, i14.SearchComponent, i6.RouterOutlet, i15.MarqueeComponent, i16.PromoteBannerComponent, i17.WhatsappComponent],\n    styles: [\".ageplus[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100%;background-color:#000000b3;z-index:99;animation:fadeIn .5s ease}.dialog[_ngcontent-%COMP%]{width:90%;margin-left:5%}.announce-wrap1[_ngcontent-%COMP%]{position:relative;top:12%;height:auto;margin:0 auto 24px;background-color:#fff;border-radius:8px;box-shadow:0 5px 20px #00000080}.announce-header1[_ngcontent-%COMP%]{height:56px;padding-left:24px;border-bottom:1px solid #e0e6e6}.announce-header1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:medium;font-size:initial;line-height:56px}.announce-footer1[_ngcontent-%COMP%]{max-height:73px;padding:12px 0;background:#fff;border-top:1px solid #e0e6e6;font-size:16px;border-radius:0 0 8px 8px;justify-content:center!important;text-align:-webkit-center}.tc-content[_ngcontent-%COMP%]{overflow-y:scroll;height:452px;padding:16px 24px;font-size:14px;line-height:24px;color:#474747}\"]\n  });\n  return MainComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}