{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ahmed Kazdar/OneDrive/Desktop/Cricity Bet/MobileBet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-cookie-service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/fire/auth\";\nexport const AUTH_TOKEN = 'AuthToken';\nexport const USER_INFO = 'UserInfo';\nexport const NEW_USER = 'NewUser';\nexport const ACTIVE_PLAYER = 'ActivePlayer';\nexport const LANGUAGE = 'LANGUAGE';\nexport const OFFER_ID = 'OFFER_ID';\nexport const CLICK_ID = 'CLICK_ID';\nexport const AFF_ID = 'AFF_ID';\nexport class TokenService {\n  constructor(cookieService, router, fireAuth) {\n    this.cookieService = cookieService;\n    this.router = router;\n    this.fireAuth = fireAuth;\n    this.stakeButtons = [1000, 5000, 10000, 25000, 50000, 100000, 200000, 500000, 1000000, 2500000];\n  }\n\n  setTC(data) {\n    this.cookieService.set('tc', data);\n  }\n\n  getTC() {\n    return this.cookieService.get('tc');\n  }\n\n  setCasBanner(data) {\n    this.cookieService.set('CasBanner', data);\n  }\n\n  getCasBanner() {\n    return this.cookieService.get('CasBanner');\n  }\n\n  setToken(token) {\n    this.cookieService.set(AUTH_TOKEN, token); // localStorage.setItem(AUTH_TOKEN, token);\n  }\n\n  getToken() {\n    if (this.getLocalToken()) {\n      return this.getLocalToken();\n    } else {\n      return this.cookieService.get(AUTH_TOKEN);\n    }\n  }\n\n  setLocalToken(token) {\n    localStorage.setItem(AUTH_TOKEN, token);\n  }\n\n  getLocalToken() {\n    return localStorage.getItem(AUTH_TOKEN);\n  }\n\n  setActivePlayer(activeplayer) {\n    localStorage.setItem(ACTIVE_PLAYER, activeplayer);\n  }\n\n  getActivePlayer() {\n    return localStorage.getItem(ACTIVE_PLAYER);\n  }\n\n  removeToken() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.fireAuth.signOut();\n\n      _this.cookieService.delete(AUTH_TOKEN);\n\n      _this.cookieService.deleteAll();\n\n      var newUser = _this.getNewUser();\n\n      localStorage.clear();\n\n      if (newUser != null) {\n        _this.setNewUser(1);\n      } // this.router.navigate(['/login']);\n      // window.location.href = \"/home\";\n      // window.location.href = window.location.origin+ \"/#/home\";\n      // window.location.href = window.location.origin +\"/\" ;\n\n\n      window.location.href = window.location.origin + window.location.pathname;\n    })();\n  }\n\n  setUserInfo(userInfo) {\n    this.cookieService.set(USER_INFO, JSON.stringify(userInfo));\n    localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\n    localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\n  }\n\n  getUserInfo() {\n    // console.log(this.getLocalUserInfo())\n    if (this.getLocalUserInfo()) {\n      return this.getLocalUserInfo();\n    } else {\n      return this.cookieService.get(USER_INFO) ? JSON.parse(this.cookieService.get(USER_INFO)) : null;\n    }\n  }\n\n  getLocalUserInfo() {\n    return localStorage.getItem(USER_INFO) ? JSON.parse(localStorage.getItem(USER_INFO)) : null;\n  }\n\n  setMaintanance(value) {\n    this.cookieService.set('isMaintanance', value);\n  }\n\n  getMaintanance() {\n    return this.cookieService.get('isMaintanance');\n  }\n\n  removeMaintanance() {\n    this.cookieService.delete('isMaintanance');\n  }\n\n  setStakeButtons(stakes) {\n    this.cookieService.set(\"stakeValue\", JSON.stringify(stakes));\n  }\n\n  getStakeButtons() {\n    return this.cookieService.get(\"stakeValue\") ? JSON.parse(this.cookieService.get(\"stakeValue\")) : this.stakeButtons;\n  }\n\n  removeUserInfo() {\n    this.cookieService.delete(USER_INFO);\n    this.cookieService.deleteAll();\n  }\n\n  setNewUser(newUser) {\n    localStorage.setItem(NEW_USER, newUser);\n  }\n\n  getNewUser() {\n    return localStorage.getItem(NEW_USER);\n  }\n\n  setLanguage(lang) {\n    localStorage.setItem(LANGUAGE, lang);\n  }\n\n  getLanguage() {\n    return localStorage.getItem(LANGUAGE);\n  }\n\n  setOfferId(offerId) {\n    localStorage.setItem(OFFER_ID, offerId);\n  }\n\n  getOfferId() {\n    return localStorage.getItem(OFFER_ID);\n  }\n\n  setClickID(clickId) {\n    localStorage.setItem(CLICK_ID, clickId);\n  }\n\n  getClickID() {\n    return localStorage.getItem(CLICK_ID);\n  }\n\n  setAffId(affId) {\n    localStorage.setItem(AFF_ID, affId);\n  }\n\n  getAffId() {\n    return localStorage.getItem(AFF_ID);\n  }\n\n}\n\nTokenService.ɵfac = function TokenService_Factory(t) {\n  return new (t || TokenService)(i0.ɵɵinject(i1.CookieService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.AngularFireAuth));\n};\n\nTokenService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TokenService,\n  factory: TokenService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/Ahmed Kazdar/OneDrive/Desktop/Cricity Bet/MobileBet/src/app/services/token.service.ts"],"names":["i0","i1","i2","i3","AUTH_TOKEN","USER_INFO","NEW_USER","ACTIVE_PLAYER","LANGUAGE","OFFER_ID","CLICK_ID","AFF_ID","TokenService","constructor","cookieService","router","fireAuth","stakeButtons","setTC","data","set","getTC","get","setCasBanner","getCasBanner","setToken","token","getToken","getLocalToken","setLocalToken","localStorage","setItem","getItem","setActivePlayer","activeplayer","getActivePlayer","removeToken","signOut","delete","deleteAll","newUser","getNewUser","clear","setNewUser","window","location","href","origin","pathname","setUserInfo","userInfo","JSON","stringify","getUserInfo","getLocalUserInfo","parse","setMaintanance","value","getMaintanance","removeMaintanance","setStakeButtons","stakes","getStakeButtons","removeUserInfo","setLanguage","lang","getLanguage","setOfferId","offerId","getOfferId","setClickID","clickId","getClickID","setAffId","affId","getAffId","ɵfac","TokenService_Factory","t","ɵɵinject","CookieService","Router","AngularFireAuth","ɵprov","ɵɵdefineInjectable","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"ngx-cookie-service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/fire/auth\";\r\nexport const AUTH_TOKEN = 'AuthToken';\r\nexport const USER_INFO = 'UserInfo';\r\nexport const NEW_USER = 'NewUser';\r\nexport const ACTIVE_PLAYER = 'ActivePlayer';\r\nexport const LANGUAGE = 'LANGUAGE';\r\nexport const OFFER_ID = 'OFFER_ID';\r\nexport const CLICK_ID = 'CLICK_ID';\r\nexport const AFF_ID = 'AFF_ID';\r\nexport class TokenService {\r\n    constructor(cookieService, router, fireAuth) {\r\n        this.cookieService = cookieService;\r\n        this.router = router;\r\n        this.fireAuth = fireAuth;\r\n        this.stakeButtons = [1000, 5000, 10000, 25000, 50000, 100000, 200000, 500000, 1000000, 2500000];\r\n    }\r\n    setTC(data) {\r\n        this.cookieService.set('tc', data);\r\n    }\r\n    getTC() {\r\n        return this.cookieService.get('tc');\r\n    }\r\n    setCasBanner(data) {\r\n        this.cookieService.set('CasBanner', data);\r\n    }\r\n    getCasBanner() {\r\n        return this.cookieService.get('CasBanner');\r\n    }\r\n    setToken(token) {\r\n        this.cookieService.set(AUTH_TOKEN, token);\r\n        // localStorage.setItem(AUTH_TOKEN, token);\r\n    }\r\n    getToken() {\r\n        if (this.getLocalToken()) {\r\n            return this.getLocalToken();\r\n        }\r\n        else {\r\n            return this.cookieService.get(AUTH_TOKEN);\r\n        }\r\n    }\r\n    setLocalToken(token) {\r\n        localStorage.setItem(AUTH_TOKEN, token);\r\n    }\r\n    getLocalToken() {\r\n        return localStorage.getItem(AUTH_TOKEN);\r\n    }\r\n    setActivePlayer(activeplayer) {\r\n        localStorage.setItem(ACTIVE_PLAYER, activeplayer);\r\n    }\r\n    getActivePlayer() {\r\n        return localStorage.getItem(ACTIVE_PLAYER);\r\n    }\r\n    async removeToken() {\r\n        await this.fireAuth.signOut();\r\n        this.cookieService.delete(AUTH_TOKEN);\r\n        this.cookieService.deleteAll();\r\n        var newUser = this.getNewUser();\r\n        localStorage.clear();\r\n        if (newUser != null) {\r\n            this.setNewUser(1);\r\n        }\r\n        // this.router.navigate(['/login']);\r\n        // window.location.href = \"/home\";\r\n        // window.location.href = window.location.origin+ \"/#/home\";\r\n        // window.location.href = window.location.origin +\"/\" ;\r\n        window.location.href = window.location.origin + window.location.pathname;\r\n    }\r\n    setUserInfo(userInfo) {\r\n        this.cookieService.set(USER_INFO, JSON.stringify(userInfo));\r\n        localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\r\n        localStorage.setItem(USER_INFO, JSON.stringify(userInfo));\r\n    }\r\n    getUserInfo() {\r\n        // console.log(this.getLocalUserInfo())\r\n        if (this.getLocalUserInfo()) {\r\n            return this.getLocalUserInfo();\r\n        }\r\n        else {\r\n            return this.cookieService.get(USER_INFO) ? JSON.parse(this.cookieService.get(USER_INFO)) : null;\r\n        }\r\n    }\r\n    getLocalUserInfo() {\r\n        return localStorage.getItem(USER_INFO) ? JSON.parse(localStorage.getItem(USER_INFO)) : null;\r\n    }\r\n    setMaintanance(value) {\r\n        this.cookieService.set('isMaintanance', value);\r\n    }\r\n    getMaintanance() {\r\n        return this.cookieService.get('isMaintanance');\r\n    }\r\n    removeMaintanance() {\r\n        this.cookieService.delete('isMaintanance');\r\n    }\r\n    setStakeButtons(stakes) {\r\n        this.cookieService.set(\"stakeValue\", JSON.stringify(stakes));\r\n    }\r\n    getStakeButtons() {\r\n        return this.cookieService.get(\"stakeValue\") ? JSON.parse(this.cookieService.get(\"stakeValue\")) : this.stakeButtons;\r\n    }\r\n    removeUserInfo() {\r\n        this.cookieService.delete(USER_INFO);\r\n        this.cookieService.deleteAll();\r\n    }\r\n    setNewUser(newUser) {\r\n        localStorage.setItem(NEW_USER, newUser);\r\n    }\r\n    getNewUser() {\r\n        return localStorage.getItem(NEW_USER);\r\n    }\r\n    setLanguage(lang) {\r\n        localStorage.setItem(LANGUAGE, lang);\r\n    }\r\n    getLanguage() {\r\n        return localStorage.getItem(LANGUAGE);\r\n    }\r\n    setOfferId(offerId) {\r\n        localStorage.setItem(OFFER_ID, offerId);\r\n    }\r\n    getOfferId() {\r\n        return localStorage.getItem(OFFER_ID);\r\n    }\r\n    setClickID(clickId) {\r\n        localStorage.setItem(CLICK_ID, clickId);\r\n    }\r\n    getClickID() {\r\n        return localStorage.getItem(CLICK_ID);\r\n    }\r\n    setAffId(affId) {\r\n        localStorage.setItem(AFF_ID, affId);\r\n    }\r\n    getAffId() {\r\n        return localStorage.getItem(AFF_ID);\r\n    }\r\n}\r\nTokenService.ɵfac = function TokenService_Factory(t) { return new (t || TokenService)(i0.ɵɵinject(i1.CookieService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.AngularFireAuth)); };\r\nTokenService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: TokenService, factory: TokenService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}