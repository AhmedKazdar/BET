!function(){"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,r||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(self.webpackChunkskyexch_mobile=self.webpackChunkskyexch_mobile||[]).push([[110],{97110:function(r,t,o){o.r(t),o.d(t,{ChangePasswordModule:function(){return q}});var s=o(38583),i=o(50906),a=o(91841),u=o(3679);function d(e,r){return function(n){var t=n.controls[r];t.errors&&!t.errors.mustMatch||t.setErrors(n.controls[e].value!==t.value?{mustMatch:!0}:null)}}var c=function(e){var r=e.value||"";return r?!1===/[A-Z]+/g.test(r)?{passwordStrength:"The password must contain at least: 1 uppercase letter"}:!1===/[a-z]+/g.test(r)?{passwordStrength:"The password must contain at least: 1 lowercase letter"}:!1===/[0-9]+/g.test(r)?{passwordStrength:"The password must contain at least: 1 number"}:r.length<8?{passwordStrength:"The password must contain at least: 8 characters"}:null:null},w=o(92340),p=o(37716),g=o(54120),l=o(563),h=o(76478);function f(e,r){1&e&&(p.ynx(0),p._uU(1," Password is required "),p.BQk())}function m(e,r){if(1&e&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&e){var n=p.oxw(2);p.xp6(1),p.hij(" ",n.ChangePwdForm.get("newpwd").errors.passwordStrength,"")}}function P(e,r){if(1&e&&(p.ynx(0),p.YNc(1,m,2,1,"span",11),p.BQk()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.ChangePwdForm.get("newpwd").hasError("passwordStrength"))}}function y(e,r){1&e&&(p.ynx(0),p._uU(1," Confirm Password is required "),p.BQk())}function v(e,r){1&e&&(p.ynx(0),p._uU(1,"New Password and retype Password should be same ! "),p.BQk())}function C(e,r){1&e&&(p.ynx(0),p._uU(1," Old Password is required "),p.BQk())}function Z(e,r){if(1&e&&(p.ynx(0),p._uU(1),p.BQk()),2&e){var n=p.oxw();p.xp6(1),p.hij(" ",n.result," ")}}var b,k=[{path:"",component:(b=function(){return n(function r(n,t,o,s,i){e(this,r),this.loginServie=n,this.tokenService=t,this.toastr=o,this.router=s,this.fb=i,this.submitted=!1,this.isLogin=!1,this.isChangePassword=!1,this.AferLoginChangePassword=w.N.AferLoginChangePassword,this.tokenService.getToken()&&(this.isLogin=!0)},[{key:"ngOnInit",value:function(){this.initChangePwdForm(),this.getProfile()}},{key:"getProfile",value:function(){if(this.isLogin){var e=this.tokenService.getUserInfo();e&&1==e.newUser&&this.AferLoginChangePassword&&$("#changePassBox").fadeIn()}}},{key:"initChangePwdForm",value:function(){this.ChangePwdForm=this.fb.group({pwd:["",u.kI.required],newpwd:["",[u.kI.required,c]],retypepwd:["",u.kI.required],context:["Web"]},{validator:d("newpwd","retypepwd")})}},{key:"f",get:function(){return this.ChangePwdForm.controls}},{key:"pwd",get:function(){return this.ChangePwdForm.get("pwd")}},{key:"newpwd",get:function(){return this.ChangePwdForm.get("newpwd")}},{key:"retypepwd",get:function(){return this.ChangePwdForm.get("retypepwd")}},{key:"ChangePwd",value:function(){var e=this;this.submitted=!0,this.ChangePwdForm.valid&&(this.isChangePassword||(this.isChangePassword=!0,this.loginServie.changePassword(this.ChangePwdForm.value).subscribe(function(r){if(0==r.errorCode){e.toastr.successMsg("Password updated successfull"),e.toastr.successMsg(r.errorDescription),e.result="Password updated successfull",e.resetFrom(),e.submitted=!1;var n=e.tokenService.getUserInfo();n&&(n.newUser=0,e.tokenService.setUserInfo(n)),e.router.navigate(["dash"]),e.isChangePassword=!1}else e.toastr.errorMsg(r.errorDescription),e.result=r.errorDescription,e.submitted=!1,e.isChangePassword=!1})))}},{key:"resetFrom",value:function(){this.initChangePwdForm()}}])}(),b.\u0275fac=function(e){return new(e||b)(p.Y36(g.r),p.Y36(l.Br),p.Y36(h.D),p.Y36(i.F0),p.Y36(u.qu))},b.\u0275cmp=p.Xpm({type:b,selectors:[["app-change-password"]],decls:26,vars:7,consts:[[1,"pass-head"],[1,"pass-wrap"],[1,"form-login"],["name","passwordPinForm",3,"formGroup","ngSubmit"],[2,"color","#000"],["id","newPwd","type","password","placeholder","New Password","formControlName","newpwd"],["id","confirmPwd","type","password","placeholder","New Password Confirm","formControlName","retypepwd"],["id","currentPwd","type","password","placeholder","Old Password","formControlName","pwd"],["id","submit",1,"btn-send",3,"click"],["type","submit",2,"display","none"],[1,"txt-wrap"],[4,"ngIf"]],template:function(e,r){1&e&&(p.TgZ(0,"header",0),p._UZ(1,"h1"),p.qZA(),p.TgZ(2,"div",1),p.TgZ(3,"dl",2),p.TgZ(4,"form",3),p.NdJ("ngSubmit",function(){return r.ChangePwd()}),p.TgZ(5,"dt",4),p._uU(6,"Change Password"),p.qZA(),p.TgZ(7,"dd"),p._UZ(8,"input",5),p.qZA(),p.TgZ(9,"dd"),p._UZ(10,"input",6),p.qZA(),p.TgZ(11,"dd"),p._UZ(12,"input",7),p.qZA(),p.TgZ(13,"dd"),p.TgZ(14,"a",8),p.NdJ("click",function(){return r.ChangePwdForm.invalid?"":r.ChangePwd()}),p._uU(15,"Change"),p.qZA(),p._UZ(16,"button",9),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",10),p.TgZ(18,"ul"),p.TgZ(19,"li"),p.YNc(20,f,2,0,"ng-container",11),p.YNc(21,P,2,1,"ng-container",11),p.YNc(22,y,2,0,"ng-container",11),p.YNc(23,v,2,0,"ng-container",11),p.YNc(24,C,2,0,"ng-container",11),p.YNc(25,Z,2,1,"ng-container",11),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(4),p.Q6J("formGroup",r.ChangePwdForm),p.xp6(16),p.Q6J("ngIf",(null==r.newpwd.errors?null:r.newpwd.errors.required)&&r.f.newpwd.touched),p.xp6(1),p.Q6J("ngIf",r.f.newpwd.errors),p.xp6(1),p.Q6J("ngIf",(null==r.retypepwd.errors?null:r.retypepwd.errors.required)&&r.f.retypepwd.touched),p.xp6(1),p.Q6J("ngIf",null==r.retypepwd.errors?null:r.retypepwd.errors.mustMatch),p.xp6(1),p.Q6J("ngIf",(null==r.pwd.errors?null:r.pwd.errors.required)&&r.f.pwd.touched),p.xp6(1),p.Q6J("ngIf",r.result))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,s.O5],styles:[".form-login[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:#fff}"]}),b)}],q=function(){var r=n(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[s.ez,i.Bz.forChild(k),a.JF,u.u5,u.UX],i.Bz]}),r}()}}])}();